<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>View source for Tecla Access/Shield Proto 1 - IDRC Mobile Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.6" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="IDRC Mobile Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.mobile-accessibility.idrc.ocadu.ca/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="IDRC Mobile Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.mobile-accessibility.idrc.ocadu.ca/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.mobile-accessibility.idrc.ocadu.ca/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: 8b02c92c:resourceloader:filter:minify-css:7:c441a0dba31bcfe63124c41ccf683551 */</style>
<script src="http://wiki.mobile-accessibility.idrc.ocadu.ca/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Tecla_Access/Shield_Proto_1","wgTitle":"Tecla Access/Shield Proto 1","wgCurRevisionId":1924,"wgRevisionId":0,"wgArticleId":25,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Tecla_Access/Shield_Proto_1","wgIsProbablyEditable":false,"wgRestrictionEdit":["sysop"],"wgRestrictionMove":["sysop"]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: 8b02c92c:resourceloader:filter:minify-js:7:8d7e903275f4fc5a5ad6387c1fbe7337 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Tecla_Access_Shield_Proto_1 skin-vector action-edit vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">View source for Tecla Access/Shield Proto 1</span></h1>
						<div id="bodyContent">
								<div id="contentSub">‚Üê <a href="/Tecla_Access/Shield_Proto_1" title="Tecla Access/Shield Proto 1">Tecla Access/Shield Proto 1</a></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reasons:
</p>
<ul class="permissions-errors">
<li>The action you have requested is limited to users in one of the groups: <a href="/index.php?title=IDRC_Mobile_Wiki:Administrators&amp;action=edit&amp;redlink=1" class="new" title="IDRC Mobile Wiki:Administrators (page does not exist)">Administrators</a>, emailconfirmed.</li>
<li>This page has been protected to prevent editing or other actions.</li>
<li>You must confirm your email address before editing pages.
Please set and validate your email address through your <a href="/Special:Preferences" title="Special:Preferences">user preferences</a>.</li>
</ul>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">{{wbox|This version of the Tekla Shield is obsolete. It has been superseded by the [[Tekla/Shield_Proto_II|Tekla Shield Proto II]]}}

[[File:meadl_hardware.png|400px|thumb|right|Tekla shield with BlueSMiRF module on Arduino board connected to ACU/ECU joystick emulator]]

==Features==
* Up to five binary switch inputs
** 4 inputs through DE9 male header compatible with:
*** [http://trace.wisc.edu/docs/set/set.htm Simple Electrical Transducer Standard]
*** [http://en.wikipedia.org/wiki/Joystick Atari standard connector]
** 1 input through standard 3.5mm female mono plug
* Implements one passive filter per switch to eliminate metal plaque noise
* Broadcasts switch events to bluetooth-enabled devices

== Technical Specifications==
* Switches normally open (HIGH), closing to common (LOW).
* Bluetooth switch events broadcasted through virtual serial port using the serial port profile (SPP)

'''Table 1: Connector pinouts'''
{| 
|-
! Port
! Pin #
! Description
! To Arduino
|-
| 3.5mm mono plug
| tip
| Extra
| D12
|-
| DE9
| 1
| Forward / Up
| D11
|-
| DE9
| 2
| Back / Down
| D10
|-
| DE9
| 3
| Left
| D9
|-
| DE9
| 4
| Right
| D8
|-
| DE9
| 5-7
| Not Connected
| Not Connected
|-
| DE9
| 8
| Common
| GND
|-
| DE9
| 9
| Not Connected
| Not Connected
|}

'''Table 2: Serial readout values
{| 
|-
! Switch Action
! Character
|-
| Release
| 0x0F
|-
| Extra
| 0x1F
|-
| Forward / Up
| 0x07
|-
| Back / Down
| 0x0B
|-
| Left
| 0x0D
|-
| Right
| 0x0E
|}

==Wheelchair connection==

=== Power ===
Powered wheelchairs hold supplies that can be used to power the Tekla Shield.

==== Invacare Mark IV ====

Use Digikey Parts # 361-1057-ND and 361-1048-ND to retrieve power from the control box.
{| 
|-
! Pin
! Description
|-
| 3
| 12-14V
|-
| 4
| Common
|}

==Making your own==
[[File:meadl_switch_filter.png|200px|thumb|right|Tekla switch filter. Uses a 1kohm resistor and 1uF capacitor.]]

=== List of materials ===
'''Table 3: List of materials
{| 
|-
! Qty.
! Description
|-
| 1
| [http://www.robotshop.ca/spark-fun-bluesmirf.html BlueSMiRF module]
|-
| 1
| 3.5mm audio jack female header
|-
| 1
| DE9 Male Header
|-
| 1
| Mini slide switch
|-
| 1
| Breakaway Double Header (10pin)
|-
| 1
| Breakaway Header (7pin)
|-
| 2
| Stackable header (8pin)
|-
| 2
| Stackable header (6pin)
|-
| 5
| 1uF capacitor
|-
| 5
| 1kohm resistor
|}

=== Schematics &amp; PCB ===

1. Designs are available here:
* [http://bazaar.launchpad.net/~jorge-silva/meadl/main/files/head%3A/designs/shield/ThroughHole/ Through-Hole]
* [http://bazaar.launchpad.net/~jorge-silva/meadl/main/files/head%3A/designs/shield/SMD/ Surface Mount]

===Testing, QA===

The instructions below describe the steps required to test serial data transmission by the Tekla shield via the BlueSMiRF bluetooth module. Details on environmental testing of the robustness of the bluetooth link itself are available [[Bluetooth_Link_Tests|here]].

==== Requirements ====

This testing procedure requires a Linux box with a Bluetooth radio. Our tests were performed on the [http://en.wikipedia.org/wiki/Nokia_N810 Nokia N810]. You will need the following packages installed:
* &lt;code>python-bluez&lt;/code>
* &lt;code>espeak&lt;/code>
* &lt;code>mplayer&lt;/code>
The last two packages are required for audio feedback. You can install packages by issuing the following command:
 ~$ apt-get install [package_name]
where &lt;code>[package_name]&lt;/code> is the name of the package you want to install.

==== Instructions ====

# [http://bazaar.launchpad.net/~jorge-silva/meadl/main/download/head:/full_server.pde-20100525230107-n165govrlixk5f3r-1/full_server.pde Download] the server sketch for the Arduino board [http://bazaar.launchpad.net/~jorge-silva/meadl/main/download/head:/full_server.pde-20100525230107-n165govrlixk5f3r-1/full_server.pde from here]
# Unplug the shield from the Arduino board, otherwise you won't be able to upload sketches to it.
# Use the [http://arduino.cc/en/Main/Software Arduino IDE] to open the sketch you just downloaded and upload it to the Arduino board.
# Connect the Arduino board to the wheelchair's ACU or to the ACU emulator joystick. The Arduino board should now be ready to broadcast switch events from the wheelchair to any device connected via bluetooth.
# To test reception of switch events, [http://bazaar.launchpad.net/~jorge-silva/meadl/main/download/head:/maemo_meadl_client.p-20100323131908-m49j878lpm0wridt-13/maemo_meadl_client.py download] the client python script [http://bazaar.launchpad.net/~jorge-silva/meadl/main/download/head:/maemo_meadl_client.p-20100323131908-m49j878lpm0wridt-13/maemo_meadl_client.py from here].
# Use your favourite editor to change the hard-coded bluetooth MAC address to the one that corresponds to your BlueSMiRF module.
# Open a terminal and type:&lt;br/>&lt;pre>~$ python [path_to]/maemo_meadl_client.py&lt;/pre>
# Once the bluetooth connection is established, all switch changes on the ACU will be received from the Arduino board via bluetooth and printed by the python script.
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="/Template:Ibox" title="Template:Ibox">Template:Ibox</a> (<a href="/index.php?title=Template:Ibox&amp;action=edit" title="Template:Ibox">view source</a>) </li><li><a href="/Template:Wbox" title="Template:Wbox">Template:Wbox</a> (<a href="/index.php?title=Template:Wbox&amp;action=edit" title="Template:Wbox">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="/Tecla_Access/Shield_Proto_1" title="Tecla Access/Shield Proto 1">Tecla Access/Shield Proto 1</a>.</p>
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.mobile-accessibility.idrc.ocadu.ca/Tecla_Access/Shield_Proto_1">http://wiki.mobile-accessibility.idrc.ocadu.ca/Tecla_Access/Shield_Proto_1</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-anonuserpage"><a href="/User:205.211.169.49" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">205.211.169.49</a></li><li id="pt-anontalk"><a href="/User_talk:205.211.169.49" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li><li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Tecla+Access%2FShield+Proto+1&amp;returntoquery=action%3Dedit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="/Special:RequestAccount">Request account</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/Tecla_Access/Shield_Proto_1"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/index.php?title=Talk:Tecla_Access/Shield_Proto_1&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view"><span><a href="/Tecla_Access/Shield_Proto_1" >Read</a></span></li>
					<li id="ca-viewsource" class="selected"><span><a href="/index.php?title=Tecla_Access/Shield_Proto_1&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/index.php?title=Tecla_Access/Shield_Proto_1&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search IDRC Mobile Wiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://mobile-accessibility.idrc.ocadu.ca/media/images/IDI_wiki.png);" href="/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Tecla_Access/Shield_Proto_1" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Tecla_Access/Shield_Proto_1" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-info"><a href="/index.php?title=Tecla_Access/Shield_Proto_1&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="/IDRC_Mobile_Wiki:Privacy_policy" title="IDRC Mobile Wiki:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/IDRC_Mobile_Wiki:About" title="IDRC Mobile Wiki:About">About IDRC Mobile Wiki</a></li>
											<li id="footer-places-disclaimer"><a href="/IDRC_Mobile_Wiki:General_disclaimer" title="IDRC Mobile Wiki:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="//www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="http://wiki.mobile-accessibility.idrc.ocadu.ca/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":127});
}</script>
	</body>
</html>
